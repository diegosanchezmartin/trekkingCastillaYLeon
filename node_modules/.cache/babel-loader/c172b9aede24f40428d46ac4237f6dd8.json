{"ast":null,"code":"import { createElementVNode as _createElementVNode, openBlock as _openBlock, createElementBlock as _createElementBlock, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\";\n\nconst _withScopeId = n => (_pushScopeId(\"data-v-269938df\"), n = n(), _popScopeId(), n);\n\nconst _hoisted_1 = {\n  class: \"map-wrap\"\n};\n\nconst _hoisted_2 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"a\", {\n  href: \"https://www.maptiler.com\",\n  class: \"watermark\"\n}, [/*#__PURE__*/_createElementVNode(\"img\", {\n  src: \"https://api.maptiler.com/resources/logo.svg\",\n  alt: \"MapTiler logo\"\n})], -1));\n\nconst _hoisted_3 = {\n  class: \"map\",\n  ref: \"mapContainer\"\n};\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  return _openBlock(), _createElementBlock(\"div\", _hoisted_1, [_hoisted_2, _createElementVNode(\"div\", _hoisted_3, null, 512)]);\n}","map":{"version":3,"mappings":";;;;;AACOA,OAAK,EAAC;;;gEACTC,oBAIM,GAJN,EAIM;AAJHC,MAAI,EAAC,0BAIF;AAJ6BF,OAAK,EAAC;AAInC,CAJN,gBACGC,oBAGD,KAHC,EAGD;AAFEE,KAAG,EAAC,6CAEN;AADEC,KAAG,EAAC;AACN,CAHC,EADH;;;AAKKJ,OAAK,EAAC;AAAMK,KAAG,EAAC;;;uBANvBC,oBAOM,KAPN,cAOM,CANJC,UAMI,EADJN,oBAA0C,KAA1C,cAA0C,IAA1C,EAA0C,GAA1C,CACI,CAPN","names":["class","_createElementVNode","href","src","alt","ref","_createElementBlock","_hoisted_2"],"sourceRoot":"","sources":["/Users/diegosanchezmartin/Desktop/trekkingCastillaYLeon/trekkingCastillaYLeon/src/components/TrekkingMap.vue"],"sourcesContent":["<template>\n  <div class=\"map-wrap\">\n    <a href=\"https://www.maptiler.com\" class=\"watermark\"\n      ><img\n        src=\"https://api.maptiler.com/resources/logo.svg\"\n        alt=\"MapTiler logo\"\n    /></a>\n    <div class=\"map\" ref=\"mapContainer\"></div>\n  </div>\n</template>\n\n<script>\nimport { Map, NavigationControl, GeolocateControl } from \"maplibre-gl\";\nimport {\n  shallowRef,\n  onMounted,\n  onUnmounted,\n  markRaw,\n  defineComponent,\n} from \"vue\";\nimport MapboxGeocoder from \"@mapbox/mapbox-gl-geocoder\";\nimport \"@mapbox/mapbox-gl-geocoder/dist/mapbox-gl-geocoder.css\";\n\nexport default defineComponent({\n  name: \"TrekkingMap\",\n  setup() {\n    const mapContainer = shallowRef(null);\n    const map = shallowRef(null);\n    onMounted(() => {\n      const apiKey = \"HMe7WC55sZcFwJmppiRb\";\n      const mapBoxToken =\n        \"pk.eyJ1IjoiZGllZ29zbmNoZXptYXJ0aW4iLCJhIjoiY2w0Y3M2cGdnMDFpODNlbXUyYWdoZ3gxayJ9.tbbUxPlHTXetwBXMFoLU8w\";\n\n      const initialState = { lng: -6.5663177, lat: 42.4984435, zoom: 14 };\n\n      map.value = markRaw(\n        new Map({\n          container: mapContainer.value,\n          style: `https://api.maptiler.com/maps/streets/style.json?key=${apiKey}`,\n          center: [initialState.lng, initialState.lat],\n          zoom: initialState.zoom,\n        })\n      );\n\n      const geocoder = new MapboxGeocoder({\n        accessToken: mapBoxToken,\n        mapboxgl: map,\n      });\n\n      map.value.addControl(new NavigationControl(), \"top-right\");\n      map.value.addControl(new GeolocateControl(), \"top-right\");\n      map.value.addControl(geocoder, \"top-left\");\n    }),\n      onUnmounted(() => {\n        map.value?.remove();\n      });\n\n    return {\n      map,\n      mapContainer,\n    };\n  },\n});\n</script>\n\n\n<style scoped>\n@import \"~maplibre-gl/dist/maplibre-gl.css\";\n\n.map-wrap {\n  position: relative;\n  width: 100%;\n  height: calc(\n    50vh - 77px\n  ); /* calculate height of the screen minus the heading */\n}\n\n.map {\n  position: absolute;\n  width: 100%;\n  height: 100%;\n}\n\n.watermark {\n  position: absolute;\n  left: 10px;\n  bottom: 10px;\n  z-index: 999;\n}\n</style>"]},"metadata":{},"sourceType":"module"}