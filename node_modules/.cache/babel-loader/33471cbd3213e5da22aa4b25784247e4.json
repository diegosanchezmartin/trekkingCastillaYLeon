{"ast":null,"code":"import { Map, NavigationControl, GeolocateControl } from \"maplibre-gl\";\nimport { shallowRef, onMounted, onUnmounted, markRaw, defineComponent } from \"vue\";\nimport MapboxGeocoder from \"@mapbox/mapbox-gl-geocoder\";\nimport \"@mapbox/mapbox-gl-geocoder/dist/mapbox-gl-geocoder.css\";\nexport default defineComponent({\n  name: \"TrekkingMap\",\n\n  setup() {\n    const mapContainer = shallowRef(null);\n    const map = shallowRef(null); // @vuese\n    // Muestra el mapa interactivo\n\n    onMounted(() => {\n      const apiKey = \"HMe7WC55sZcFwJmppiRb\";\n      const mapBoxToken = \"pk.eyJ1IjoiZGllZ29zbmNoZXptYXJ0aW4iLCJhIjoiY2w0Y3M2cGdnMDFpODNlbXUyYWdoZ3gxayJ9.tbbUxPlHTXetwBXMFoLU8w\";\n      const initialState = {\n        lng: -6.5663177,\n        lat: 42.4984435,\n        zoom: 14\n      };\n      map.value = markRaw(new Map({\n        container: mapContainer.value,\n        style: `https://api.maptiler.com/maps/streets/style.json?key=${apiKey}`,\n        center: [initialState.lng, initialState.lat],\n        zoom: initialState.zoom\n      }));\n      const geocoder = new MapboxGeocoder({\n        accessToken: mapBoxToken,\n        mapboxgl: map\n      });\n      map.value.addControl(new NavigationControl(), \"top-right\");\n      map.value.addControl(new GeolocateControl(), \"top-right\");\n      map.value.addControl(geocoder, \"top-left\");\n    }), onUnmounted(() => {\n      map.value?.remove();\n    });\n    return {\n      map,\n      mapContainer\n    };\n  }\n\n});","map":{"version":3,"mappings":"AAYA,SAASA,GAAT,EAAcC,iBAAd,EAAiCC,gBAAjC,QAAyD,aAAzD;AACA,SACEC,UADF,EAEEC,SAFF,EAGEC,WAHF,EAIEC,OAJF,EAKEC,eALF,QAMO,KANP;AAOA,OAAOC,cAAP,MAA2B,4BAA3B;AACA,OAAO,wDAAP;AAEA,eAAeD,eAAe,CAAC;AAC7BE,MAAI,EAAE,aADuB;;AAE7BC,OAAK,GAAG;AACN,UAAMC,YAAW,GAAIR,UAAU,CAAC,IAAD,CAA/B;AACA,UAAMS,GAAE,GAAIT,UAAU,CAAC,IAAD,CAAtB,CAFM,CAGN;AACA;;AACAC,aAAS,CAAC,MAAM;AACd,YAAMS,MAAK,GAAI,sBAAf;AACA,YAAMC,WAAU,GACd,wGADF;AAGA,YAAMC,YAAW,GAAI;AAAEC,WAAG,EAAE,CAAC,SAAR;AAAmBC,WAAG,EAAE,UAAxB;AAAoCC,YAAI,EAAE;AAA1C,OAArB;AAEAN,SAAG,CAACO,KAAJ,GAAYb,OAAO,CACjB,IAAIN,GAAJ,CAAQ;AACNoB,iBAAS,EAAET,YAAY,CAACQ,KADlB;AAENE,aAAK,EAAG,wDAAuDR,MAAO,EAFhE;AAGNS,cAAM,EAAE,CAACP,YAAY,CAACC,GAAd,EAAmBD,YAAY,CAACE,GAAhC,CAHF;AAINC,YAAI,EAAEH,YAAY,CAACG;AAJb,OAAR,CADiB,CAAnB;AASA,YAAMK,QAAO,GAAI,IAAIf,cAAJ,CAAmB;AAClCgB,mBAAW,EAAEV,WADqB;AAElCW,gBAAQ,EAAEb;AAFwB,OAAnB,CAAjB;AAKAA,SAAG,CAACO,KAAJ,CAAUO,UAAV,CAAqB,IAAIzB,iBAAJ,EAArB,EAA8C,WAA9C;AACAW,SAAG,CAACO,KAAJ,CAAUO,UAAV,CAAqB,IAAIxB,gBAAJ,EAArB,EAA6C,WAA7C;AACAU,SAAG,CAACO,KAAJ,CAAUO,UAAV,CAAqBH,QAArB,EAA+B,UAA/B;AACD,KAxBQ,CAAT,EAyBElB,WAAW,CAAC,MAAM;AAChBO,SAAG,CAACO,KAAJ,EAAWQ,MAAX;AACD,KAFU,CAzBb;AA6BA,WAAO;AACLf,SADK;AAELD;AAFK,KAAP;AAID;;AAxC4B,CAAD,CAA9B","names":["Map","NavigationControl","GeolocateControl","shallowRef","onMounted","onUnmounted","markRaw","defineComponent","MapboxGeocoder","name","setup","mapContainer","map","apiKey","mapBoxToken","initialState","lng","lat","zoom","value","container","style","center","geocoder","accessToken","mapboxgl","addControl","remove"],"sourceRoot":"","sources":["/Users/diegosanchezmartin/Desktop/trekkingCastillaYLeon/trekkingCastillaYLeon/src/components/TrekkingMap.vue"],"sourcesContent":["<template>\n  <div class=\"map-wrap\">\n    <a href=\"https://www.maptiler.com\" class=\"watermark\"\n      ><img\n        src=\"https://api.maptiler.com/resources/logo.svg\"\n        alt=\"MapTiler logo\"\n    /></a>\n    <div class=\"map\" ref=\"mapContainer\"></div>\n  </div>\n</template>\n\n<script>\nimport { Map, NavigationControl, GeolocateControl } from \"maplibre-gl\";\nimport {\n  shallowRef,\n  onMounted,\n  onUnmounted,\n  markRaw,\n  defineComponent,\n} from \"vue\";\nimport MapboxGeocoder from \"@mapbox/mapbox-gl-geocoder\";\nimport \"@mapbox/mapbox-gl-geocoder/dist/mapbox-gl-geocoder.css\";\n\nexport default defineComponent({\n  name: \"TrekkingMap\",\n  setup() {\n    const mapContainer = shallowRef(null);\n    const map = shallowRef(null);\n    // @vuese\n    // Muestra el mapa interactivo\n    onMounted(() => {\n      const apiKey = \"HMe7WC55sZcFwJmppiRb\";\n      const mapBoxToken =\n        \"pk.eyJ1IjoiZGllZ29zbmNoZXptYXJ0aW4iLCJhIjoiY2w0Y3M2cGdnMDFpODNlbXUyYWdoZ3gxayJ9.tbbUxPlHTXetwBXMFoLU8w\";\n\n      const initialState = { lng: -6.5663177, lat: 42.4984435, zoom: 14 };\n\n      map.value = markRaw(\n        new Map({\n          container: mapContainer.value,\n          style: `https://api.maptiler.com/maps/streets/style.json?key=${apiKey}`,\n          center: [initialState.lng, initialState.lat],\n          zoom: initialState.zoom,\n        })\n      );\n\n      const geocoder = new MapboxGeocoder({\n        accessToken: mapBoxToken,\n        mapboxgl: map,\n      });\n\n      map.value.addControl(new NavigationControl(), \"top-right\");\n      map.value.addControl(new GeolocateControl(), \"top-right\");\n      map.value.addControl(geocoder, \"top-left\");\n    }),\n      onUnmounted(() => {\n        map.value?.remove();\n      });\n\n    return {\n      map,\n      mapContainer,\n    };\n  },\n});\n</script>\n\n\n<style scoped>\n@import \"~maplibre-gl/dist/maplibre-gl.css\";\n\n.map-wrap {\n  position: relative;\n  width: 100%;\n  height: calc(\n    50vh - 77px\n  ); /* calculate height of the screen minus the heading */\n}\n\n.map {\n  position: absolute;\n  width: 100%;\n  height: 100%;\n}\n\n.watermark {\n  position: absolute;\n  left: 10px;\n  bottom: 10px;\n  z-index: 999;\n}\n</style>"]},"metadata":{},"sourceType":"module"}