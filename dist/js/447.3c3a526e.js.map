{"version":3,"file":"js/447.3c3a526e.js","mappings":"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","sources":["webpack://trekkingcastillayleon/./node_modules/vue-loader/dist/templateLoader.js","webpack://trekkingcastillayleon/./node_modules/vue-loader/dist/index.js","webpack://trekkingcastillayleon/./src/views/TabMensaje.vue"],"sourcesContent":["import { resolveComponent as _resolveComponent, createVNode as _createVNode, withCtx as _withCtx, toDisplayString as _toDisplayString, createTextVNode as _createTextVNode, renderList as _renderList, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock, createElementVNode as _createElementVNode, createBlock as _createBlock, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\"\n\nconst _withScopeId = n => (_pushScopeId(\"data-v-d7db417c\"),n=n(),_popScopeId(),n)\nconst _hoisted_1 = [\"src\"]\nconst _hoisted_2 = /*#__PURE__*/_createTextVNode(\"Mensaje\")\n\nexport function render(_ctx: any,_cache: any,$props: any,$setup: any,$data: any,$options: any) {\n  const _component_ion_back_button = _resolveComponent(\"ion-back-button\")!\n  const _component_ion_buttons = _resolveComponent(\"ion-buttons\")!\n  const _component_ion_toolbar = _resolveComponent(\"ion-toolbar\")!\n  const _component_ion_header = _resolveComponent(\"ion-header\")!\n  const _component_ion_list_header = _resolveComponent(\"ion-list-header\")!\n  const _component_ion_avatar = _resolveComponent(\"ion-avatar\")!\n  const _component_ion_label = _resolveComponent(\"ion-label\")!\n  const _component_ion_item = _resolveComponent(\"ion-item\")!\n  const _component_ion_list = _resolveComponent(\"ion-list\")!\n  const _component_ion_row = _resolveComponent(\"ion-row\")!\n  const _component_ion_input = _resolveComponent(\"ion-input\")!\n  const _component_ion_icon = _resolveComponent(\"ion-icon\")!\n  const _component_ion_col = _resolveComponent(\"ion-col\")!\n  const _component_ion_grid = _resolveComponent(\"ion-grid\")!\n  const _component_ion_content = _resolveComponent(\"ion-content\")!\n  const _component_ion_page = _resolveComponent(\"ion-page\")!\n\n  return (_openBlock(), _createBlock(_component_ion_page, null, {\n    default: _withCtx(() => [\n      _createVNode(_component_ion_header, null, {\n        default: _withCtx(() => [\n          _createVNode(_component_ion_toolbar, null, {\n            default: _withCtx(() => [\n              _createVNode(_component_ion_buttons, { slot: \"start\" }, {\n                default: _withCtx(() => [\n                  _createVNode(_component_ion_back_button, { defaultHref: \"/tabs/tabMensajes\" })\n                ]),\n                _: 1\n              })\n            ]),\n            _: 1\n          })\n        ]),\n        _: 1\n      }),\n      _createVNode(_component_ion_content, { fullscreen: true }, {\n        default: _withCtx(() => [\n          _createVNode(_component_ion_grid, { class: \"grid\" }, {\n            default: _withCtx(() => [\n              _createVNode(_component_ion_col, { class: \"columna\" }, {\n                default: _withCtx(() => [\n                  _createVNode(_component_ion_row, { class: \"fila\" }, {\n                    default: _withCtx(() => [\n                      _createVNode(_component_ion_list, { class: \"lista\" }, {\n                        default: _withCtx(() => [\n                          _createVNode(_component_ion_list_header, { class: \"ionListHeader\" }, {\n                            default: _withCtx(() => [\n                              _createTextVNode(_toDisplayString(_ctx.nombreUsuarioMensaje), 1)\n                            ]),\n                            _: 1\n                          }),\n                          (_openBlock(true), _createElementBlock(_Fragment, null, _renderList(_ctx.mensajesMostrados, (mensaje) => {\n                            return (_openBlock(), _createBlock(_component_ion_item, {\n                              key: mensaje.id,\n                              onClick: ($event: any) => (_ctx.opcionesMensaje(mensaje.id, mensaje.creador, mensaje.mensaje))\n                            }, {\n                              default: _withCtx(() => [\n                                _createVNode(_component_ion_avatar, { slot: \"start\" }, {\n                                  default: _withCtx(() => [\n                                    _createElementVNode(\"img\", {\n                                      src: mensaje.fotoPerfil\n                                    }, null, 8, _hoisted_1)\n                                  ]),\n                                  _: 2\n                                }, 1024),\n                                _createVNode(_component_ion_label, null, {\n                                  default: _withCtx(() => [\n                                    _createElementVNode(\"h3\", null, _toDisplayString(mensaje.mensaje), 1)\n                                  ]),\n                                  _: 2\n                                }, 1024)\n                              ]),\n                              _: 2\n                            }, 1032, [\"onClick\"]))\n                          }), 128))\n                        ]),\n                        _: 1\n                      })\n                    ]),\n                    _: 1\n                  }),\n                  _createVNode(_component_ion_row, { class: \"fila\" }, {\n                    default: _withCtx(() => [\n                      _createVNode(_component_ion_item, { class: \"mensaje\" }, {\n                        default: _withCtx(() => [\n                          _createVNode(_component_ion_label, { position: \"floating\" }, {\n                            default: _withCtx(() => [\n                              _hoisted_2\n                            ]),\n                            _: 1\n                          }),\n                          _createVNode(_component_ion_input, {\n                            \"clear-input\": \"\",\n                            type: \"text\",\n                            modelValue: _ctx.mensajeUsuario,\n                            \"onUpdate:modelValue\": _cache[0] || (_cache[0] = ($event: any) => ((_ctx.mensajeUsuario) = $event))\n                          }, null, 8, [\"modelValue\"]),\n                          _createVNode(_component_ion_icon, {\n                            icon: _ctx.arrowDownCircleOutline,\n                            slot: \"end\",\n                            onClick: _cache[1] || (_cache[1] = ($event: any) => (_ctx.anadirMensaje()))\n                          }, null, 8, [\"icon\"])\n                        ]),\n                        _: 1\n                      })\n                    ]),\n                    _: 1\n                  })\n                ]),\n                _: 1\n              })\n            ]),\n            _: 1\n          })\n        ]),\n        _: 1\n      })\n    ]),\n    _: 1\n  }))\n}","\nimport {\n  IonPage,\n  IonHeader,\n  IonToolbar,\n  IonBackButton,\n  IonButtons,\n  IonContent,\n  IonAvatar,\n  IonLabel,\n  IonItem,\n  IonListHeader,\n  IonList,\n  IonInput,\n  IonGrid,\n  IonCol,\n  IonRow,\n  IonIcon,\n  actionSheetController,\n  modalController,\n} from \"@ionic/vue\";\nimport { arrowDownCircleOutline } from \"ionicons/icons\";\nimport { auth, db } from \"@/main\";\nimport { defineComponent, reactive, toRefs, ref } from \"vue\";\nimport ModalMensaje from '/src/components/ModalMensaje.vue';\n\nfunction uuidv4() {\n  return \"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx\".replace(/[xy]/g, function (c) {\n    const r = (Math.random() * 16) | 0,\n      v = c == \"x\" ? r : (r & 0x3) | 0x8;\n    return v.toString(16);\n  });\n}\n\nexport default defineComponent({\n  name: \"TabMensajes\",\n  components: {\n    IonHeader,\n    IonToolbar,\n    IonContent,\n    IonPage,\n    IonBackButton,\n    IonButtons,\n    IonAvatar,\n    IonLabel,\n    IonItem,\n    IonListHeader,\n    IonList,\n    IonInput,\n    IonGrid,\n    IonCol,\n    IonRow,\n    IonIcon,\n  },\n  data() {\n    return {\n      mensajesMostrados: [],\n    };\n  },\n  methods: {\n    async presentActionSheetBorrar(id: number, mensaje: string) {\n      const actionSheet = await actionSheetController.create({\n        header: \"Mensaje\",\n        buttons: [\n          {\n            text: \"Borrar\",\n            role: \"destructive\",\n            id: \"delete-button\",\n            data: {\n              type: \"delete\",\n            },\n            handler: () => {\n              console.log(\"Borrar mensaje clickado\");\n            },\n          },\n          {\n            text: \"Cancelar\",\n            handler: () => {\n              console.log(\"Cancelar clickado\");\n            },\n          },\n        ],\n      });\n      await actionSheet.present();\n\n      const { role } = await actionSheet.onDidDismiss();\n\n      if (role == \"destructive\") {\n        await db\n          .collection(\"users\")\n          .doc(auth.currentUser.uid)\n          .collection(\"mensajes\")\n          .doc(this.emailUsuario)\n          .collection(\"conversacion\")\n          .get()\n          .then((querySnapshot) => {\n            querySnapshot.forEach(async (doc) => {\n              if (doc.data().id == id) {\n                this.uidMensajeABorrar = doc.id;\n              }\n            });\n          });\n\n        await db\n          .collection(\"users\")\n          .doc(auth.currentUser.uid)\n          .collection(\"mensajes\")\n          .doc(this.emailUsuario)\n          .collection(\"conversacion\")\n          .doc(this.uidMensajeABorrar)\n          .delete();\n\n        this.$router.go();\n      }\n    },\n    async presentActionSheetDenunciar(id: number) {\n      const actionSheet = await actionSheetController.create({\n        header: \"Mensaje\",\n        buttons: [\n          {\n            text: \"Denunciar\",\n            role: \"destructive\",\n            id: \"delete-button\",\n            data: {\n              type: \"delete\",\n            },\n            handler: () => {\n              console.log(\"Denunciar mensaje clickado\");\n            },\n          },\n          {\n            text: \"Cancelar\",\n            handler: () => {\n              console.log(\"Cancelar clickado\");\n            },\n          },\n        ],\n      });\n      await actionSheet.present();\n\n      const { role } = await actionSheet.onDidDismiss();\n    },\n  },\n  setup() {\n    const state = reactive({\n      imagenUsuarioMensaje: \"\",\n      nombreUsuarioMensaje: \"\",\n      emailUsuario: \"\",\n      mensajeUsuario: \"\",\n      fotoPerfilUsuario: \"\",\n      emailUsuarioEmisor: \"\",\n      uidUsuarioReceptor: \"\",\n      uidMensajeABorrar: \"\",\n    });\n\n    async function opcionesMensaje(id: number, creador: string, mensaje: string) {\n      if (creador == auth.currentUser.displayName) {\n        this.presentActionSheetBorrar(id, mensaje);\n      } else {\n        this.presentActionSheetDenunciar();\n      }\n    }\n\n    async function anadirMensaje() {\n      const current = new Date();\n      var horas, minutos, segundos, dia, mes, milisegundos;\n      if (current.getHours() < 10) {\n        horas = \"0\" + current.getHours();\n      } else {\n        horas = current.getHours();\n      }\n      if (current.getMinutes() < 10) {\n        minutos = \"0\" + current.getMinutes();\n      } else {\n        minutos = current.getMinutes();\n      }\n      if (current.getSeconds() < 10) {\n        segundos = \"0\" + current.getSeconds();\n      } else {\n        segundos = current.getSeconds();\n      }\n      if (current.getDate() < 10) {\n        dia = \"0\" + current.getDate();\n      } else {\n        dia = current.getDate();\n      }\n      if (current.getMonth() < 10) {\n        mes = \"0\" + current.getMonth();\n      } else {\n        mes = current.getMonth();\n      }\n      if (current.getMilliseconds() < 10) {\n        milisegundos = \"00\" + current.getMilliseconds();\n      } else if (current.getMilliseconds() < 100) {\n        milisegundos = \"0\" + current.getMilliseconds();\n      } else {\n        milisegundos = current.getMilliseconds();\n      }\n\n      const idMensaje = uuidv4();\n      const mensaje = {\n        id: idMensaje,\n        creador: auth.currentUser.displayName,\n        mensaje: this.mensajeUsuario,\n        fechaPublicacion: `${current.getDate()}/${\n          current.getMonth() + 1\n        }/${current.getFullYear()}`,\n        fotoPerfil: this.fotoPerfilUsuario,\n      };\n\n      this.mensajesMostrados.push(mensaje);\n\n      console.log(current);\n\n      //Esto lo hago porque si no añado un campo a la colección a veces no pilla bien el documento\n      await db\n        .collection(\"users\")\n        .doc(auth.currentUser?.uid)\n        .collection(\"mensajes\")\n        .doc(this.emailUsuario)\n        .set({\n          fechaPublicacion: `${current.getDate()}${\n            current.getMonth() + 1\n          }${current.getFullYear()}${current.getHours()}${current.getMinutes()}${current.getSeconds()}${current.getMilliseconds()}`,\n        });\n\n      await db\n        .collection(\"users\")\n        .doc(auth.currentUser?.uid)\n        .collection(\"mensajes\")\n        .doc(this.emailUsuario)\n        .collection(\"conversacion\")\n        .doc(\n          dia +\n            mes +\n            current.getFullYear() +\n            horas +\n            minutos +\n            segundos +\n            milisegundos\n        )\n        .set({\n          creador: auth.currentUser.displayName,\n          mensaje: this.mensajeUsuario,\n          fechaPublicacion: `${current.getDate()}${\n            current.getMonth() + 1\n          }${current.getFullYear()}${current.getHours()}${current.getMinutes()}${current.getSeconds()}${current.getMilliseconds()}`,\n        });\n\n      await db\n        .collection(\"users\")\n        .get()\n        .then((querySnapshot) => {\n          querySnapshot.forEach(async (doc) => {\n            if (doc.data().email == this.emailUsuario) {\n              this.uidUsuarioReceptor = doc.id;\n\n              //Esto lo hago porque si no añado un campo a la colección a veces no pilla bien el documento\n              await db\n                .collection(\"users\")\n                .doc(this.uidUsuarioReceptor)\n                .collection(\"mensajes\")\n                .doc(this.emailUsuarioEmisor)\n                .set({\n                  fechaPublicacion: `${current.getDate()}${\n                    current.getMonth() + 1\n                  }${current.getFullYear()}${current.getHours()}${current.getMinutes()}${current.getSeconds()}${current.getMilliseconds()}`,\n                });\n\n              await db\n                .collection(\"users\")\n                .doc(this.uidUsuarioReceptor)\n                .collection(\"mensajes\")\n                .doc(this.emailUsuarioEmisor)\n                .collection(\"conversacion\")\n                .doc(\n                  dia +\n                    mes +\n                    current.getFullYear() +\n                    horas +\n                    minutos +\n                    segundos +\n                    milisegundos\n                )\n                .set({\n                  creador: auth.currentUser.displayName,\n                  mensaje: this.mensajeUsuario,\n                  fechaPublicacion: `${current.getDate()}/${\n                    current.getMonth() + 1\n                  }/${current.getFullYear()}-${current.getHours()}:${current.getMinutes()}:${current.getSeconds()}::${current.getMilliseconds()}`,\n                });\n              this.mensajeUsuario = \"\";\n            }\n          });\n        });\n\n      console.log(\"Mensaje enviado: \" + mensaje.mensaje);\n    }\n\n    async function cargarPaginaMensajes() {\n      const usuario = await db.collection(\"users\").doc(auth.currentUser?.uid);\n      const doc = await usuario.get();\n      if (!doc.exists) {\n        console.log(\"Error!\");\n      } else {\n        this.fotoPerfilUsuario = doc.data().fotoPerfil;\n        this.emailUsuarioEmisor = doc.data().email;\n      }\n\n      await db\n        .collection(\"users\")\n        .get()\n        .then((querySnapshot) => {\n          querySnapshot.forEach((result) => {\n            if (result.data().email == this.emailUsuario) {\n              state.nombreUsuarioMensaje =\n                result.data().nombre + \" \" + result.data().apellidos;\n              state.imagenUsuarioMensaje = result.data().fotoPerfil;\n              console.log(\n                state.imagenUsuarioMensaje + \" \" + state.nombreUsuarioMensaje\n              );\n            }\n          });\n        });\n\n      await db\n        .collection(\"users\")\n        .doc(auth.currentUser?.uid)\n        .collection(\"mensajes\")\n        .doc(this.emailUsuario)\n        .collection(\"conversacion\")\n        .get()\n        .then((querySnapshot) => {\n          querySnapshot.forEach((result) => {\n            var mensaje;\n            if (result.data().creador === auth.currentUser?.displayName) {\n              mensaje = {\n                id: result.data().id,\n                creador: result.data().creador,\n                mensaje: result.data().mensaje,\n                fechaPublicacion: result.data().fechaPublicacion,\n                fotoPerfil: this.fotoPerfilUsuario,\n              };\n            } else {\n              mensaje = {\n                id: result.data().id,\n                creador: result.data().creador,\n                mensaje: result.data().mensaje,\n                fechaPublicacion: result.data().fechaPublicacion,\n                fotoPerfil: this.imagenUsuarioMensaje,\n              };\n            }\n            this.mensajesMostrados.push(mensaje);\n          });\n        });\n    }\n    return {\n      ...toRefs(state),\n      opcionesMensaje,\n      anadirMensaje,\n      cargarPaginaMensajes,\n      arrowDownCircleOutline,\n    };\n  },\n  mounted() {\n    this.mensajesMostrado = [];\n    this.emailUsuario = this.$route.params.email;\n    this.cargarPaginaMensajes();\n  },\n});\n","import { render } from \"./TabMensaje.vue?vue&type=template&id=d7db417c&scoped=true&ts=true\"\nimport script from \"./TabMensaje.vue?vue&type=script&lang=ts\"\nexport * from \"./TabMensaje.vue?vue&type=script&lang=ts\"\n\nimport \"./TabMensaje.vue?vue&type=style&index=0&id=d7db417c&scoped=true&lang=css\"\n\nimport exportComponent from \"/Users/diegosanchezmartin/Desktop/trekkingCastillaYLeon/trekkingCastillaYLeon/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-d7db417c\"]])\n\nexport default __exports__"],"names":["_hoisted_1","_hoisted_2","_createTextVNode","render","_ctx","_cache","$props","$setup","$data","$options","_component_ion_back_button","_resolveComponent","_component_ion_buttons","_component_ion_toolbar","_component_ion_header","_component_ion_list_header","_component_ion_avatar","_component_ion_label","_component_ion_item","_component_ion_list","_component_ion_row","_component_ion_input","_component_ion_icon","_component_ion_col","_component_ion_grid","_component_ion_content","_component_ion_page","_openBlock","_createBlock","default","_withCtx","_createVNode","slot","defaultHref","_","fullscreen","class","_toDisplayString","nombreUsuarioMensaje","_createElementBlock","_Fragment","_renderList","mensajesMostrados","mensaje","key","id","onClick","$event","opcionesMensaje","creador","_createElementVNode","src","fotoPerfil","position","type","modelValue","mensajeUsuario","icon","arrowDownCircleOutline","anadirMensaje","uuidv4","replace","c","r","Math","random","v","toString","defineComponent","name","components","IonHeader","IonToolbar","IonContent","IonPage","IonBackButton","IonButtons","IonAvatar","IonLabel","IonItem","IonListHeader","IonList","IonInput","IonGrid","IonCol","IonRow","IonIcon","data","methods","async","actionSheet","actionSheetController","header","buttons","text","role","handler","console","log","present","onDidDismiss","db","doc","auth","collection","this","emailUsuario","get","then","querySnapshot","forEach","uidMensajeABorrar","delete","$router","go","setup","state","reactive","imagenUsuarioMensaje","fotoPerfilUsuario","emailUsuarioEmisor","uidUsuarioReceptor","presentActionSheetBorrar","presentActionSheetDenunciar","current","Date","horas","minutos","segundos","dia","mes","milisegundos","getHours","getMinutes","getSeconds","getDate","getMonth","getMilliseconds","idMensaje","fechaPublicacion","getFullYear","push","uid","set","email","cargarPaginaMensajes","usuario","exists","result","nombre","apellidos","displayName","toRefs","mounted","mensajesMostrado","$route","params","__exports__"],"sourceRoot":""}